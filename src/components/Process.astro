---
interface Step {
  number: string;
  title: string;
  subtitle: string;
  description: string;
  points?: string[];
  result?: string;
}

interface Props {
  title?: string;
  subtitle?: string;
  steps?: Step[];
}

const {
  title = "Как мы работаем",
  subtitle = "Простой и понятный процесс от идеи до запуска",
  steps = [
    {
      number: "1",
      title: "Обсуждение проекта",
      subtitle: "3-5 дней",
      description:
        "Детальное изучение вашей задачи, целей и требований к проекту",
      points: [
        "Встреча с вами (очная или онлайн)",
        "Сбор требований в документ ТЗ",
        "Техническая консультация: какие технологии, какие риски",
        "Смета: точная стоимость + сроки",
        "После согласования: контракт и депозит (40-50%)"
      ],
      result: "Вы получаете письменное ТЗ и план работ"
    },
    {
      number: "2",
      title: "Разработка",
      subtitle: "4-12 недель",
      description:
        "Создание функционала итерациями с постоянной обратной связью",
      points: [
        "Еженедельные синхронизации (понедельник 10:00)",
        "Демо готовых фич каждую неделю",
        "Все исправления включены в смету, доп. работы — по доп. счету",
        "Код хранится в приватном Git-репозитории (вы имеете доступ)",
        "Документация и комментарии в коде на русском/английском"
      ],
      result: "Рабочий прототип и готовый MVP"
    },
    {
      number: "3",
      title: "Тестирование и запуск",
      subtitle: "2-3 недели",
      description:
        "Полное тестирование, исправление багов и развертывание проекта",
      points: [
        "Автоматизированное тестирование (unit, интеграционное)",
        "Ручное тестирование на разных устройствах",
        "Исправление найденных багов",
        "Развертывание на production сервер",
        "Настройка SSL, DNS, мониторинга",
        "Поддержка первый месяц: срочные баги — срок исправления 24 часа"
      ],
      result: "Приложение работает, клиенты могут им пользоваться"
    },
  ],
} = Astro.props;
---

<section class="process">
  <div class="process-container">
    <div class="process-header">
      <h2 class="process-title">{title}</h2>
      <p class="process-subtitle">{subtitle}</p>
    </div>

    <div class="process-steps">
      {
        steps.map((step) => (
          <div class="step-card">
            <div class="step-content">
              <div class="step-header">
                <div class="step-number">{step.number}</div>
                <div class="step-info">
                  <h3 class="step-title">{step.title}</h3>
                  <p class="step-subtitle">{step.subtitle}</p>
                </div>
              </div>
              <p class="step-description">{step.description}</p>
              
              {step.points && step.points.length > 0 && (
                <ul class="step-points">
                  {step.points.map((point) => (
                    <li>{point}</li>
                  ))}
                </ul>
              )}
              
              {step.result && (
                <div class="step-result">
                  <strong>Результат:</strong> {step.result}
                </div>
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  .process {
    max-width: 896px;
    margin: 0 auto;
    padding: 48px 16px;
  }

  .process-container {
    display: flex;
    flex-direction: column;
    gap: 48px;
  }

  .process-header {
    text-align: center;
  }

  .process-title {
    font-size: 32px;
    font-weight: 700;
    color: #000000;
    margin: 0 0 16px 0;
  }

  .process-subtitle {
    font-size: 16px;
    color: #666666;
    margin: 0;
    line-height: 1.6;
  }

  .process-steps {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
  }

  .step-card {
    background-color: #ffffff;
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 20px;
    padding: 20px;
    transition: all 0.3s ease;
  }

  .step-card:hover {
    border-color: rgba(0, 0, 0, 0.15);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
  }

  .step-content {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .step-header {
    display: flex;
    align-items: flex-start;
    gap: 14px;
  }

  .step-number {
    width: 44px;
    height: 44px;
    background-color: #000000;
    color: #ffffff;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    flex-shrink: 0;
  }

  .step-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
  }

  .step-title {
    font-size: 17px;
    font-weight: 700;
    color: #000000;
    margin: 0;
  }

  .step-subtitle {
    font-size: 13px;
    font-weight: 600;
    color: #666666;
    margin: 0;
  }

  .step-description {
    font-size: 14px;
    color: #666666;
    line-height: 1.6;
    margin: 0;
  }

  .step-points {
    margin: 0;
    padding-left: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .step-points li {
    font-size: 13px;
    color: #666666;
    line-height: 1.5;
  }

  .step-result {
    padding: 12px 16px;
    background-color: rgba(0, 0, 0, 0.03);
    border-radius: 12px;
    font-size: 13px;
    color: #333333;
    line-height: 1.5;
  }

  .step-result strong {
    color: #000000;
  }

  /* Tablet */
  @media (min-width: 640px) {
    .process {
      padding: 80px 24px;
    }

    .process-container {
      gap: 64px;
    }

    .process-title {
      font-size: 36px;
    }

    .process-subtitle {
      font-size: 18px;
    }

    .step-card {
      border-radius: 24px;
      padding: 24px;
    }

    .step-card:hover {
      transform: translateY(-4px);
    }

    .step-content {
      gap: 20px;
    }

    .step-header {
      gap: 18px;
    }

    .step-number {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      font-size: 22px;
    }

    .step-info {
      gap: 6px;
    }

    .step-title {
      font-size: 18px;
    }

    .step-subtitle {
      font-size: 14px;
    }

    .step-description {
      font-size: 15px;
    }

    .step-points li {
      font-size: 14px;
    }

    .step-result {
      padding: 14px 18px;
      font-size: 14px;
    }
  }

  @media (min-width: 1024px) {
    .step-card {
      padding: 32px;
    }

    .step-content {
      gap: 24px;
    }

    .step-header {
      gap: 24px;
    }

    .step-number {
      width: 64px;
      height: 64px;
      font-size: 24px;
    }

    .step-title {
      font-size: 20px;
    }

    .step-subtitle {
      font-size: 15px;
    }

    .step-description {
      font-size: 16px;
    }

    .step-points li {
      font-size: 15px;
    }

    .step-result {
      font-size: 15px;
    }
  }
</style>

